## Стадии
1. Style calculation
2. Layout
3.  Paint
4. Compositing
### Styles calculation
Браузер какие стили к каким элементам должны быть применены. При этом одному элементу могут быть применены стили разных селекторов из разных файлов и разной специфичности. Все эти нюансы необходимо рассчитать (поэтому стадия и называется styles calculation).
>[!note] Чем сложнее селектор -- тем дольше он будет высчитываться.
>Смысла упарываться в это нет, но чем проще будет стиль -- тем лучше.

### Laoyout
На этом этапе браузер уже знает какие стили к каким элементам должны быть применены. Браузер составляет макет/чертеж страницы, т.е. расставляет элементы по своим местам и задает им необходимые размеры.
На выходе этого этапа мы получаем LayoutTree (дерево расположения, дерево позиционирования).
Если DOM дерево содержит полную информацию о каждой ноде из которой состоит дерево, то LayooutTree содержит информацию о том, где элемент должен располагаться, виден ли он и т.р.

### Paint
Из прошлого этапа мы получили макет страницы. На этом этапе этот макет раскрашивается. Рисуются пиксели по чертежу

### Compositing
Работа со слоями. Чертеж делится на слои для правильного отображения (например z-index);

![[Pasted image 20240225144117.png]]

## Что вызывает рендер?
1. Изменение размера окна (resize)
2. Изменение шрифта
3. Изменение контента
4. Добавление/удаление классов/стилей
5. Манипуляции с DOM
6. Изменение ориентации (альбом / книга)
7. Изменение размеров/позиции
8. Вычисление размеров/позиции