Объекты веб-хранилища `localStorage` и `sessionStorage` позволяют хранить пары ключ/значение в браузере.
`Session storage` позволяет хранить данные в браузере, пока браузер не будет перезапущен.
`LocalStorage` позволяет хранить данные в браузере даже после его перезапуска

## Отличие от [[Cookie]]
- В отличие от куки, объекты веб-хранилища не отправляются на сервер при каждом запросе. Именно поэтому мы можем хранить гораздо больше данных. Большинство современных браузеров могут выделить как минимум 5 мегабайтов данных (или больше), и этот размер можно поменять в настройках.
- Ещё одно отличие от куки – сервер не может манипулировать объектами хранилища через HTTP-заголовки. Всё делается при помощи JavaScript.
- Хранилище привязано к источнику (домен/протокол/порт). Это значит, что разные протоколы или поддомены определяют разные объекты хранилища, и они не могут получить доступ к данным друг друга.

### Методы хранилищ
Объекты хранилища `localStorage` и `sessionStorage` предоставляют одинаковые методы и свойства:
- `setItem(key, value)` – сохранить пару ключ/значение.
- `getItem(key)` – получить данные по ключу `key`.
- `removeItem(key)` – удалить данные с ключом `key`.
- `clear()` – удалить всё.
- `key(index)` – получить ключ на заданной позиции.
- `length` – количество элементов в хранилище.

### Перебор ключей
```js
for(let i = 0; i < localStorage.length; i++) {
	let key = localStorage.key(i);
	alert(`${key}: ${localStorage.getItem(key)}`);
}

// or

let keys = Object.keys(localStorage);
for(let key of keys) {
	alert(`${key}: ${localStorage.getItem(key)}`);
}
```

### Отличия sessionStorage от localStorage
- `sessionStorage` существует только в рамках текущей вкладки браузера.
    - Другая вкладка с той же страницей будет иметь другое хранилище.
    - Но оно разделяется между ифреймами на той же вкладке (при условии, что они из одного и того же источника).
- Данные продолжают существовать после перезагрузки страницы, но не после закрытия/открытия вкладки.

### Событие `storage`
>[!note] Важно
>Событие срабатывает на всех остальных объектах `window`, где доступно хранилище, кроме того окна, которое его вызвало.

```js
// срабатывает при обновлениях, сделанных в том же хранилище из других документов

// можно также использовать window.addEventListener('storage', event => {
window.onstorage = event => { 
if (event.key != 'now') return;
alert(event.key + ':' + event.newValue + " at " + event.url);
};

localStorage.setItem('now', Date.now());
```
