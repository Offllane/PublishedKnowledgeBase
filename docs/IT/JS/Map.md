### Что такое `Map`?
`Map` -- это коллекция ключ/значение. 
Основное отличие `Map` от `Object` заключается в том, что в `Map` мы можем использовать ключи любого типа.

### Методы и свойства
#### Создание и управление коллекцией
- `new Map()`– создаёт коллекцию.
- `map.set(key, value)`– записывает по ключу `key` значение `value`.
- `map.get(key)` – возвращает значение по ключу или `undefined`, если ключ `key` отсутствует.
- `map.has(key)` – возвращает `true`, если ключ `key` присутствует в коллекции, иначе `false`.
- `map.delete(key)` – удаляет элемент (пару «ключ/значение») по ключу `key`.
- `map.clear()` – очищает коллекцию от всех элементов.
- `map.size` – возвращает текущее количество элементов.

```js
let map = new Map();

map.set("1", "str1"); // строка в качестве ключа
map.set(1, "num1"); // цифра как ключ
map.set(true, "bool1"); // булево значение как ключ
```

> [!note] Map может использовать объекты в качестве ключа:
```js
let john = { name: "John" };
// давайте сохраним количество посещений для каждого пользователя
let visitsCountMap = new Map();
// объект john - это ключ для значения в объекте Map
visitsCountMap.set(john, 123);
alert(visitsCountMap.get(john)); // 123
```

>[!note] Каждый вызов `map.set` возвращает объект map, так что мы можем объединить вызовы в цепочку:
```js
map.set('1', str1)
   .set(1, num1)
   .set(true, bool1)
```

#### Перебор Map
Для перебора коллекции `Map` есть 3 метода:
- `map.keys()` – возвращает итерируемый объект по ключам,
- `map.values()` – возвращает итерируемый объект по значениям,
- `map.entries()` – возвращает итерируемый объект по парам вида `[ключ, значение]`, этот вариант используется по умолчанию в `for..of`.
- `map.forEach((value, key, map) => {})`

```js
let recipeMap = new Map([
  ["огурец", 500],
  ["помидор", 350],
  ["лук", 50]
]);  

// перебор по ключам (овощи)
for (let vegetable of recipeMap.keys()) {
  alert(vegetable); // огурец, помидор, лук
}
 
// перебор по значениям (числа)
for (let amount of recipeMap.values()) {
  alert(amount); // 500, 350, 50
}

// перебор по элементам в формате [ключ, значение]
for (let entry of recipeMap) { // то же самое, что и recipeMap.entries()
  alert(entry); // огурец,500 (и так далее)
}

recipeMap.forEach((value, key, map) => {
  alert(`${key}: ${value}`);
})
```

>[!note] В отличие от обычных объектов `Object`, в `Map` перебор происходит в том же порядке, в каком происходило добавление элементов.

#### Создание Map из Object
При создании `Map` мы можем указать массив (или другой итерируемый объект) с парами ключ-значение для инициализации, как здесь:
```js
// массив пар [ключ, значение]
let map = new Map([
	['1', 'str1'],
	[1, 'num1'],
	[true, 'bool1']
]);
```

Так что мы можем создать `Map` из обычного объекта следующим образом:
```js
let obj = {
	name: "John",
	age: 30
};

let map = new Map(Object.entries(obj));  

alert( map.get('name') ); // John
```
Здесь `Object.entries` возвращает массив пар ключ-значение: `[ ["name","John"], ["age", 30] ]`. Это именно то, что нужно для создания `Map`.

#### Создание Object из Map
```js
let obj = Object.fromEntries(map);
```

###
[[Задачи Map и Set]]